Web单页和跳转
====
思考开放平台的网页呈现方式，基于已经有若干md文件，怎么去呈现。基本的想法是目录中放html文件，以静态方式来获取，完全不需要一行代码，但是开发似乎已经不知道还有上古技术了。单页配合后台按路径读数据也足够简单，定下大致思路。期间想到文档间需要跳转，如果按md内相对路径的写法，编译成chm没有任何障碍，但到了单页应用就会面临被跳转到其它页面的问题。

经前端开发提醒，href除了绝对路径和相对路径外，还支持哈希方式，就是以#为记号的页面内跳转。简单测了下，规则大致是这样

1. 如果发现是`scheme://`开头，且scheme可以识别，就直接向外发起链接，页面也转移走了。
2. 如果首字母是`#`，进行页面内定位，仍留在当前页。
3. 除以上情况外，就以这个页面为根，在服务器的目录进行间接寻址。比如当前页面请求的路径是`/www`，如果name是ha，就向/www/ha发请求同时页面会跳转。

可以看出，只有#路径的点击可以驻留，可以说是SPA的最佳搭档，同时会回调onhashchange函数，只要能进入JS，拿到#后面的数据，重新请求数据就是自然而然的事情，接下来就是编码的工作了。

再看图片。如果用img标签，src是不会触发JS的(可以跨域的属性，当然不能随便加载JS)。这就要求必须能定位到这个SPA页面的根地址，再以跟地址进行相对路径的编写，理论上也是可以找到图片的。还没验证，先记录一下。

最坏情况下，还能把图片先base64编码再嵌入页面，像这样`<img src="data:image/png;base64,agEna13==">`。