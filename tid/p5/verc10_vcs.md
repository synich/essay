# 05 小众的fossil

git只是命令行工具，创建服务端必须依赖第三方软件，而fossil自带服务和用户管理，包括设置密码和权限，虽然不支持公钥，但个人使用足够。

初看命令和git有些类似，但语义不同。比如add只要做一次，后面只要被管理的文件有改动，commit就会提交。又比如仓库如果是同步远程的话，如果远程连不上，本地都无法提交。从这个角度看，git确实是完全的分布式版本管理。也难怪fossil的作者自己都说是大教堂模式。

再比如mv指令只能修改fossil管理的文件名，导致既要执行fossil mv又要执行mv，非常分裂而且不便。

默认clone时未指定用户，导致推送也没指定用户名，总是失败。解决办法用`remote-url add http://$USER@ip`，接着输入密码，就能指定向远端push的用户。

fossil的服务端每响应一次请求就会在后台fork出一个fossil进程，直到连接断开后一段才终止进程，实现得非常朴素。而且服务端用nginx的proxy_pass指令后，浏览器无法看，但好在不影响远端同步，就这么用着吧。

由于已经搭建好git仓库，fossil的体验至此阶段性结束，还是那句话，多用主流工具。
