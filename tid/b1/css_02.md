# 02-CSS的理解进阶

操作类(规则)

* 层叠和继承
* 选择器: 很难记忆，但它是理解CSS的关键

### 层叠和继承

两个相近但不同的概念，先说层叠，CSS的C代表层叠，也是CSS与其它布局方式最大的不同。CSS的所有变量定义是全局的，因此必然存在冲突，解决的办法就是层叠的规则。样式来源有5个

* `<a style="">`  属性样式，又称内联样式
* `<style >`  内部样式表
* `<link>` 外部样式表，又名外部样式表
* 浏览器用户自定义样式
* 浏览器默认样式

CSS权重规则(specific)的特殊性可以用4个整数来表示，例如`(1, 0, 2, 0)`的4元数表示，计算规则从高到低排列如下：

1. 对于内联规则, 权重值为(1, 0, 0, 0)
1. 对于规则中的每个ID选择符, 权重值为(0, 1, 0, 0)
1. 对于规则中每个类选择符和属性选择符以及伪类, 权重值为(0, 0, 1, 0)
1. 对于规则中的每个元素名或者伪元素, 权重值为(0, 0, 0, 1)
1. 对于通配符, 权重值为(0, 0, 0, 0)

最终得到结果就是这个规则的权重。两个权重值的比较类似字符串大小的比较，是从左往右依次比较，第一个数字大的规则的权重高。

还有一种层叠`<p class="A B C">`，元素的class值可以指定多个值，用空格区分。元素只有用空格连结多值表示层叠语法，但定义css可以有逗号、冒号等多种语法，要注意区分。

上例ABC三种样式会叠加作用在p元素上，ABC属性的层叠原则，和class属性中的排列顺序无关，而是取决于怎么定义，其中规则非常复杂，这里就提最简单的一种，所有都是单独定义（没有父子、兄弟或important时），最后的定义覆盖早先的定义。如果A最后被定义，层叠的结果就是A。

继承这个特性是由HTML的结构化特性导入的。像color、font-size、font-family、text-align这些属性，会在给父元素设定后传递到子元素甚至孙元素的样式中，这些子元素/孙元素会得到样式的渲染，就是CSS的继承机制。不是所有属性都会继承，像margin/float等都不会继承

### 选择器

由于HTML的树状结构，对元素渲染时一定会遇到对某种具有父子或兄弟的元素采用特殊属性的场景，选择器提供了丰富的语法来支持如何选中树结构的某类元素
