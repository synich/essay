二三层网络和MAC地址
==
根据OSI的七层模型，二层协议包含PPP、ARP，而三层包含IP、IGMP。

1. 不同网段（子网）的ip通信，需要经过三层网络。相同网段的ip通信，经过二层网络；
2. 二层网络仅仅通过MAC寻址即可实现通讯，但仅仅是同一个冲突域内；三层网络需要通过IP路由实现跨网段的通讯，可以跨多个冲突域；
3. 二层网络的组网能力非常有限，一般只是小局域网；三层网络则可以组大型的网络。
4. 二层网络基本上是一个安全域，也就是说在同一个二层网络内，终端的安全性从网络上讲基本上是一样的，除非有其它特殊的安全措施；三层网络则可以划分出相对独立的多个安全域。

二层交换机实质就是一张大的查找表，记录MAC和IP的对应关系，因此有ARP协议也是很自然的事情。但是受限于交互机的内存以及以太网络的冲突，网络容量不会太大，这也是子网掩码大多都设置为255.255.255.0的原因。

MAC地址拾遗
--
通常认为MAC地址是全球唯一，其实MAC地址的本意是保证在一个广播域内唯一，因为MAC是以太网下的概念，帧中继、ATM等通信方式都是没有MAC地址的。

MAC地址的高24位被称为OUI，组织单位标识符，正规厂商需要花钱向IEEE购买之后才能使用。这就有一则历史趣闻，1990年代，steve deering在研究IP组播时，希望能拿到和组播IP地址相等数量的MAC地址，D类IP地址有效位数是28位，意味着需要购买2^4个OUI，当时一个OUI的售价是1000美金，steve的经理jon postel觉得1万6美金太贵，但是愿意在预算外再购买1个OUI，并分出其中一半给steve研究，于是MAC的组播地址就变成了OUI为01-00-5E，有效位数低23位的地址空间。进而导致组播时，IP地址只有后23位被映射到MAC，也就是说每32个组播IP地址共用同一个MAC地址的现状。