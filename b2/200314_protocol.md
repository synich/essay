经度纬度和GeoHash
==
对经纬度对应的长度，我一直有个错误的认识，经度共360度纬度180度，而地球又非常接近球形，意味着每1经度的距离只有纬度的一半。但是在看了GeoHash后发现在赤道上，1个经度或纬度的地理距离是一样的，每度约111.3km，每秒31米，换算成小数点后4位是10米，和民用GPS精度一致。有些项目要求到小数点后5位甚至6位，精度1米甚至0.1米，其实是不可能达到的。随着纬度越来越高，1个经度间的距离会逐渐减少，到北纬50只有71km，更往北则缩减得越快。

经度是整个地球一周，此时纬度只需要标识出半周，两者结合就可以唯一定位一个点，因此纬度的范围是经度的一半，但每度是一样的。比方说从东经和西经可以区分中国和美国，但北纬却无法区分。

网上文章说GeoHash5的分块，精度约为5km的正方形。由于到南北极点会收缩，其实每个分块是球面梯形。GeoHash5的纬度方向，严格的说只在赤道附近才是5km，北纬45度的边长只有3.93km（5km x pi x 45/360），而北纬45度以上的块，是个球面三角形，面积只有靠近赤道的1/3。当然附着切分越来越细，上下两条边的差距会变小，但始终不能认为相等。

GeoHash有12级，因为每4级间相差1024倍，只要记4级就很快能推导出全部。每级相差8倍和4倍。

GeoHash第1级划分是8x4个块（2纬3经），第2级则是4x8个块（3纬2经）。在编码层面，每层下探时矩阵会转置，对角值也会互换。

以杭州为例，GeoHash5约横跨0.05个经纬度，GeoHash7跨0.0015个经纬度。